<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper
        PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.iweb.dao.UserDao">
<select id="selectByLoginnameAndPassword" parameterType="com.iweb.pojo.User" resultType="com.iweb.pojo.User">
    select * from user_inf where loginname=#{loginname} and password=#{password}
</select>
    <select id="count" parameterType="java.util.Map" resultType="java.lang.Integer">
        select count(*) from user_inf where 1=1
        <if test="likevalue!=null and likevalue!=''">
            and (loginname like '%${likevalue}%' or username like '%${likevalue}%')
        </if>
    </select>
    <select id="selectByPage" parameterType="java.util.Map" resultType="com.iweb.pojo.User">
        select
        id,loginname,password,date_format(createdate,'%y-%m-%d') as
        createdate,username from user_inf where 1=1
        <if test="likevalue!=null and likevalue!=''">
            and (loginname like '%${likevalue}%' or username like '%${likevalue}%')
        </if>
        order by id desc limit #{startNum},#{pageSize}
    </select>

</mapper>